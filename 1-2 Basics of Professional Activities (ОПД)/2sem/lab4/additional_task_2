ORG 0x39E
START:
	CLA
	ST DH
	ST DL
fx:	LD X
	INC
	PUSH
	CALL F
	POP
	BMI xmi
	ADD DL
	ST DL
	CLA
	ADC DH
	ST DH
	JUMP fy
xmi:	ADD DL
	ST DL
	LD #0xFF
	ADC DH
	ST DH
fy:	LD Y
	INC
	PUSH
	CALL F
	POP
	NEG
	BMI ymi
	ADD DL
	ST DL
	CLA
	ADC DH
	ST DH
	JUMP fz
ymi:	ADD DL
	ST DL
	LD #0xFF
	ADC DH
	ST DH
fz:	LD Z
	INC
	PUSH
	CALL F
	POP
	BMI zmi
	ADD DL
	ST DL
	CLA
	ADC DH
	ST DH
	JUMP fz
zmi:	ADD DL
	ST DL
	LD #0xFF
	ADC DH
	ST DH
c:	LD #2
	NEG
	ADD DL
	ST DL
	LD #0xFF
	ADC DH
	ST DH
	HLT
Z:	WORD 0x005A
Y:	WORD 0x163A
X:	WORD 0xFFC8
DL:	WORD 0
DH:	WORD 0

ORG 0x71F
F:	LD &1
	BMI LIN
	BEQ LIN
	CMP A
	BEQ CON
	BLT CON
LIN:	ADD &1
	SUB B
	JUMP EXIT
CON:	LD A
EXIT:	ST &1
	RET
A: 	WORD 3948
B: 	WORD 193
