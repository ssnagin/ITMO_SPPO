# Важные таблицы БЭВМ-2

## Система команд базовой ЭВМ

### Безадресные команды

| Код    | Команда | Признаки¹ | Описание                                            |
| ------ | ------- | --------- | --------------------------------------------------- |
|        |         | `N Z V C` |                                                     |
| `0000` | `NOP`   | `- - - -` | Нет операции                                        |
| `0100` | `HLT`   | `- - - -` | Останов                                             |
| `0200` | `CLA`   | `* * 0 -` | `0 → AC`                                            |
| `0280` | `NOT`   | `* * 0 -` | `(^AC) → AC`                                        |
| `0300` | `CLC`   | `- - - 0` | `0 → C`                                             |
| `0380` | `CMC`   | `- - - *` | `(^C) → C`                                          |
| `0400` | `ROL`   | `* * * *` | `AC` и `C` сдвигается влево. `AC15 → C`, `C → AC0`  |
| `0480` | `ROR`   | `* * * *` | `AC` и `C` сдвигается вправо. `AC0 → C`, `C → AC15` |
| `0500` | `ASL`   | `* * * *` | `AC` сдвигается влево. `AC15 → C`, `0 → AC0`        |
| `0580` | `ASR`   | `* * * *` | `AC` сдвигается вправо. `AC0 → C`, `AC15 → AC14`    |
| `0600` | `SXTB`  | `* * 0 -` | Расширение знака мл. байта `AC7 → AC15...AC8`       |
| `0680` | `SWAB`  | `* * 0 -` | Обмен ст. и мл. байта `AC7...AC0 → AC15...AC8`      |
| `0700` | `INC`   | `* * * *` | `AC + 1 → AC`                                       |
| `0740` | `DEC`   | `* * * *` | `AC - 1 → AC`                                       |
| `0780` | `NEG`   | `* * * *` | `^AC + 1 → AC`                                      |
| `0800` | `POP`   | `* * 0 -` | `(SP) + → AC`                                       |
| `0900` | `POPF`  | `* * * *` | `(SP) + → PS`                                       |
| `0A00` | `RET`   | `- - - -` | `(SP) + → IP`                                       |
| `0B00` | `IRET`  | `* * * *` | `(SP) + → PS`, `(SP) + → IP`                        |
| `0C00` | `PUSH`  | `- - - -` | `AC → -(SP)`                                        |
| `0D00` | `PUSHF` | `- - - -` | `PS → -(SP)`                                        |
| `0E00` | `SWAP`  | `* * 0 -` | Обмен `A` и вершины стека                           |
### Команды ввода-вывода

| `1XXX` | `DI`      | `- - - -` | Запрет прерывания                          |
| ------ | --------- | --------- | ------------------------------------------ |
| `11XX` | `EI`      | `- - - -` | Разрешение прерываний                      |
| `12XX` | `IN REG`  | `- - - -` | Чтение из регистров `BY`                   |
| `13XX` | `OUT REG` | `- - - -` | Запись в регистры `BY`                     |
| `18XX` | `INT NUM` | `* * * *` | Программное прерывание с заданным вектором |
### Адресные команды

| `2XXX` | `AND M`  | `* * 0 -` | `M & AC → AC`                                |
| ------ | -------- | --------- | -------------------------------------------- |
| `3XXX` | `OR M`   | `* * 0 -` | `M \| AC → AC`                               |
| `4XXX` | `ADD M`  | `* * * *` | `M + AC → AC`                                |
| `5XXX` | `ADC M`  | `* * * *` | `M + AC + C → AC`                            |
| `6XXX` | `SUB M`  | `* * * *` | `AC - M → AC`                                |
| `7XXX` | `CMP M`  | `* * * *` | Установить флаги по результату `AC - M`      |
| `8XXX` | `LOOP M` | `- - - -` | `M - 1 → M`; Если `M <= 0`, то `IP + 1 → IP` |
| `9XXX` |          |           | Резерв (для 6 лабы)                          |
| `AXXX` | `LD M`   | `* * 0 -` | `M → AC`                                     |
| `BXXX` | `SWAM M` | `* * 0 -` | `M ↔ AC`                                     |
| `CXXX` | `JUMP M` | `- - - -` | `M → IP`                                     |
| `DXXX` | `CALL M` | `- - - -` | `SP - 1 → SP`, `IP → (SP)`, `M → IP`         |
| `EXXX` | `ST M`   | `- - - -` | `AC → M`                                     |
### Команды ветвления

| `F0XX` | `BEQ(BZS)`  | `- - - -` | Переход если равенство (`Z==1`)              |
| ------ | ----------- | --------- | -------------------------------------------- |
| `F1XX` | `BNE(BZC)`  | `- - - -` | Переход если неравенство (`Z==0`)            |
| `F2XX` | `BMI(BNS)`  | `- - - -` | Переход если минус (`N==1`)                  |
| `F3XX` | `BPL(BNC)`  | `- - - -` | Переход если плюс (`N==0`)                   |
| `F4XX` | `BHIS(BCS)` | `- - - -` | Переход если выше или равно/перенос (`C==1`) |
| `F5XX` | `BLO(BCC)`  | `- - -`   | Переход если ниже/нет переноса(`C==0`)       |
| `F6XX` | `BVS`       | `- - - -` | Переход если переполнение (`V==1`)           |
| `F7XX` | `BVC`       | `- - - -` | Переход если нет переполнения (`V==0`)       |
| `F8XX` | `BLT`       | `- - - -` | Переход если меньше (`N@V==1 / N!=V`)        |
| `F9XX` | `BLT`       | `- - - -` | Переход если больше (`N@V==0 / N!=V`)        |
| `FAXX` |             |           | Резерв (для 6 лабы)                          |
1 - Значения в столбцах признаков результатов показывают, как изменится соттв. признак в результате выполнения операции "-" - команда не влияет на признак, "0" - признак сбросится, * - значение признака установится по результату операции.

## Циклы выборки адресов для различных видов адресации

![](img/Pasted%20image%2020250310210535.png)

*Небольшой косяк методички: косв. относительной со смещением SP не бывает, это неправильная формулировка